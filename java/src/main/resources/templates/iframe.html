<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SDK Iframe</title>
</head>

<body>
  <h1>PayNow SDK</h1>

  <div class="container" style="max-width: 1000px; margin: auto;">
    <div id="paynow-container"></div>

    <button id="checkout-button">Checkout</button>
  </div>
  <script src="https://js.paynow.com.tw/sdk/v2/index.js"></script>
  <script>
    PayNow.createPayment({
      publicKey: "[[${clientKey}]]",
      secret: "[[${paymentIntentSecret}]]",
    })

    PayNow.mount('#paynow-container')

    const checkoutButton = document.getElementById('checkout-button')
    checkoutButton.addEventListener('click', () => {
      PayNow.checkout().then((response) => {
        console.log(response)
        // handle checkout response
      })
    })
  </script>
</body>

</html>